{"ast":null,"code":"var _jsxFileName = \"/home/enriquerene/Projects/customers/dearjohn/frontend/src/components/frame/App.js\";\nimport React, { Component, cloneElement } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { productsUrl, paymentsUrl, peopleUrl, findUrl, findTableUrl, scopeName, getInit } from '../../settings';\nimport Unvailable from '../unvailable/App';\nimport Home from '../tela-inicial/App';\nimport NewUser, { NewProduct, SeeWithoutPrefix, NewOrder, OtherSeeWithoutPrefix } from '../form/App';\n\nconst SeeUsers = props => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32\n  },\n  __self: this\n}, React.createElement(SeeWithoutPrefix, {\n  filter: true,\n  filterLabel: \"Busca por nome\",\n  url: peopleUrl + \"?person_scope=\" + props.scope,\n  fields: [\"fullName\", \"email\", \"phone\"],\n  preppend: [\"Nome\", \"email\", \"Telefone\"],\n  withFinder: findUrl,\n  scope: props.scope,\n  key: props.scope === \"employee\" ? 1 : 2,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n})); // \n\n\nconst updateProductsHandler = data => {\n  console.log(\"data\", data);\n  let updatedData = {};\n  updatedData[\"name\"] = window.prompt(\"Nome do \" + scopeName(data.scope) + \":\", data.name);\n  updatedData[\"price\"] = window.prompt(\"Preço a ser cobrado pelo \" + scopeName(data.scope) + \":\", data.price);\n\n  if (data.scope === \"product\") {\n    updatedData[\"stock\"] = window.prompt(\"Quantidade do \" + scopeName(data.scope) + \" em estoque:\", data.stock);\n  }\n\n  fetch(productsUrl + \"/\" + data.id, getInit(JSON.stringify(updatedData), \"PUT\")).then(r => r.json()).then(j => {\n    if (j) {\n      alert(\"Dados atualizados com sucesso\");\n      window.location.reload();\n    } else {\n      alert(\"Um erro inesperado ocorreu.\");\n    }\n  });\n};\n\nconst SeeProducts = props => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72\n  },\n  __self: this\n}, React.createElement(SeeWithoutPrefix, {\n  url: productsUrl + \"?product_scope=\" + props.scope,\n  fields: props.fields,\n  preppend: props.preppend,\n  key: props.scope === \"product\" ? 1 : 2,\n  append: x => React.createElement(\"button\", {\n    className: \"btn btn-info\",\n    onClick: ev => updateProductsHandler(x),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-pencil\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73\n  },\n  __self: this\n})); // \n\n\nconst updateOrdersHandler = data => {\n  console.log(\"data\", data);\n  let updatedData = {};\n  updatedData[\"name\"] = window.prompt(\"Nome do \" + scopeName(data.scope) + \":\", data.name);\n  updatedData[\"price\"] = window.prompt(\"Preço a ser cobrado pelo \" + scopeName(data.scope) + \":\", data.price);\n\n  if (data.scope === \"product\") {\n    updatedData[\"stock\"] = window.prompt(\"Quantidade do \" + scopeName(data.scope) + \" em estoque:\", data.stock);\n  }\n\n  fetch(productsUrl + \"/\" + data.id, {\n    method: \"PUT\",\n    mode: \"cors\",\n    body: JSON.stringify(updatedData),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(r => r.json()).then(j => {\n    if (j) {\n      alert(\"Dados atualizados com sucesso\");\n      window.location.reload();\n    } else {\n      alert(\"Um erro inesperado ocorreu.\");\n    }\n  });\n};\n\nconst SeeOrders = () => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 119\n  },\n  __self: this\n}, React.createElement(OtherSeeWithoutPrefix, {\n  url: paymentsUrl,\n  withFinder: findTableUrl + \"/payments\",\n  fields: [\"date\", \"mode\", \"customerId\", \"employeeId\", \"value\"],\n  preppend: [\"Data\", \"Modo de Pagamento\", \"Cliente\", \"Funcionário/a\", \"Valor (R$)\"],\n  append: x => React.createElement(\"button\", {\n    className: \"btn btn-info\",\n    onClick: ev => updateProductsHandler(x),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-pencil\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 120\n  },\n  __self: this\n}));\n\nexport default class App extends Component {\n  handleSidebar() {\n    let output;\n    const main = React.createElement(\"div\", {\n      className: \"w-100 p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      className: \"d-block mb-5 pb-4 mb-sm-0 pb-sm-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/novo-funcionario\",\n      render: () => React.createElement(NewUser, {\n        scope: \"employee\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/listar-funcionarios\",\n      render: () => React.createElement(SeeUsers, {\n        scope: \"employee\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/novo-cliente\",\n      render: () => React.createElement(NewUser, {\n        scope: \"customer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/listar-clientes\",\n      render: () => React.createElement(SeeUsers, {\n        scope: \"customer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/novo-produto\",\n      render: () => React.createElement(NewProduct, {\n        scope: \"product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/listar-produtos\",\n      render: () => React.createElement(SeeProducts, {\n        scope: \"product\",\n        fields: [\"name\", \"price\", \"stock\"],\n        preppend: [React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Nome\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Pre\\xE7o\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Estoque\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/novo-servico\",\n      render: () => React.createElement(NewProduct, {\n        scope: \"service\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/listar-servicos\",\n      render: () => React.createElement(SeeProducts, {\n        scope: \"service\",\n        fields: [\"name\", \"price\"],\n        preppend: [React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Nome\"), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Pre\\xE7o\")],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/novo-pedido\",\n      component: NewOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/listar-pedidos\",\n      component: SeeOrders,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: Unvailable,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))));\n\n    if (this.props.sidebar) {\n      switch (this.props.sidebarPosition) {\n        case \"right\":\n          output = [main, this.props.sidebar];\n          break;\n\n        default:\n          output = [this.props.sidebar, main];\n      }\n    } else {\n      output = main;\n    }\n\n    return output.map((x, i) => cloneElement(x, {\n      key: i\n    }));\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, this.props.header, React.createElement(\"div\", {\n      className: \"d-flex\" + (this.props.containerClassName ? this.props.containerClassName : \"\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, this.props.bottombar, this.handleSidebar()));\n  }\n\n}","map":{"version":3,"sources":["/home/enriquerene/Projects/customers/dearjohn/frontend/src/components/frame/App.js"],"names":["React","Component","cloneElement","BrowserRouter","Router","Switch","Route","productsUrl","paymentsUrl","peopleUrl","findUrl","findTableUrl","scopeName","getInit","Unvailable","Home","NewUser","NewProduct","SeeWithoutPrefix","NewOrder","OtherSeeWithoutPrefix","SeeUsers","props","scope","updateProductsHandler","data","console","log","updatedData","window","prompt","name","price","stock","fetch","id","JSON","stringify","then","r","json","j","alert","location","reload","SeeProducts","fields","preppend","x","ev","updateOrdersHandler","method","mode","body","headers","SeeOrders","App","handleSidebar","output","main","sidebar","sidebarPosition","map","i","key","render","header","containerClassName","bottombar"],"mappings":";AAAA,OAAOA,KAAP,IACIC,SADJ,EAEIC,YAFJ,QAGO,OAHP;AAIA,SACIC,aAAa,IAAIC,MADrB,EAEIC,MAFJ,EAGIC,KAHJ,QAIO,kBAJP;AAMA,SACIC,WADJ,EAEIC,WAFJ,EAGIC,SAHJ,EAIIC,OAJJ,EAKIC,YALJ,EAMIC,SANJ,EAOIC,OAPJ,QAQO,gBARP;AAUA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,OAAP,IACIC,UADJ,EAEIC,gBAFJ,EAGIC,QAHJ,EAIIC,qBAJJ,QAKO,aALP;;AAQA,MAAMC,QAAQ,GAAKC,KAAF,IACb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACI,oBAAC,gBAAD;AACI,EAAA,MAAM,MADV;AAEI,EAAA,WAAW,EAAC,gBAFhB;AAGI,EAAA,GAAG,EAAGb,SAAS,GAAG,gBAAZ,GAA+Ba,KAAK,CAACC,KAH/C;AAII,EAAA,MAAM,EAAG,CAAE,UAAF,EAAc,OAAd,EAAuB,OAAvB,CAJb;AAKI,EAAA,QAAQ,EAAG,CAAE,MAAF,EAAU,OAAV,EAAmB,UAAnB,CALf;AAMI,EAAA,UAAU,EAAGb,OANjB;AAOI,EAAA,KAAK,EAAGY,KAAK,CAACC,KAPlB;AAQI,EAAA,GAAG,EAAGD,KAAK,CAACC,KAAN,KAAgB,UAAhB,GAA6B,CAA7B,GAAiC,CAR3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,CADJ,C,CAcA;;;AACA,MAAMC,qBAAqB,GAAGC,IAAI,IAAI;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAa,MAAb,EAAqBF,IAArB;AACA,MAAIG,WAAW,GAAG,EAAlB;AACAA,EAAAA,WAAW,CAAE,MAAF,CAAX,GAAwBC,MAAM,CAACC,MAAP,CAAe,aAAclB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAAvB,GAAwC,GAAvD,EAA4DE,IAAI,CAACM,IAAjE,CAAxB;AACAH,EAAAA,WAAW,CAAE,OAAF,CAAX,GAAyBC,MAAM,CAACC,MAAP,CAAe,8BAA+BlB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAAxC,GAAyD,GAAxE,EAA6EE,IAAI,CAACO,KAAlF,CAAzB;;AACA,MAAKP,IAAI,CAACF,KAAL,KAAe,SAApB,EAAgC;AAC5BK,IAAAA,WAAW,CAAE,OAAF,CAAX,GAAyBC,MAAM,CAACC,MAAP,CAAe,mBAAmBlB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAA5B,GAA6C,cAA5D,EAA4EE,IAAI,CAACQ,KAAjF,CAAzB;AACH;;AACDC,EAAAA,KAAK,CACD3B,WAAW,GAAG,GAAd,GAAoBkB,IAAI,CAACU,EADxB,EAEDtB,OAAO,CACHuB,IAAI,CAACC,SAAL,CAAgBT,WAAhB,CADG,EAEH,KAFG,CAFN,CAAL,CAOCU,IAPD,CAOOC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAPZ,EAQCF,IARD,CAQOG,CAAC,IAAI;AACR,QAAKA,CAAL,EAAS;AACLC,MAAAA,KAAK,CAAE,+BAAF,CAAL;AACAb,MAAAA,MAAM,CAACc,QAAP,CAAgBC,MAAhB;AACH,KAHD,MAGO;AACHF,MAAAA,KAAK,CAAE,6BAAF,CAAL;AACH;AACJ,GAfD;AAgBH,CAxBD;;AAyBA,MAAMG,WAAW,GAAKvB,KAAF,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACI,oBAAC,gBAAD;AACI,EAAA,GAAG,EAAGf,WAAW,GAAG,iBAAd,GAAkCe,KAAK,CAACC,KADlD;AAEI,EAAA,MAAM,EAAGD,KAAK,CAACwB,MAFnB;AAGI,EAAA,QAAQ,EAAGxB,KAAK,CAACyB,QAHrB;AAII,EAAA,GAAG,EAAGzB,KAAK,CAACC,KAAN,KAAgB,SAAhB,GAA4B,CAA5B,GAAgC,CAJ1C;AAKI,EAAA,MAAM,EAAGyB,CAAC,IACN;AAAQ,IAAA,SAAS,EAAC,cAAlB;AACI,IAAA,OAAO,EAAGC,EAAE,IAAIzB,qBAAqB,CAAEwB,CAAF,CADzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,CADJ,C,CAiBA;;;AACA,MAAME,mBAAmB,GAAGzB,IAAI,IAAI;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAa,MAAb,EAAqBF,IAArB;AACA,MAAIG,WAAW,GAAG,EAAlB;AACAA,EAAAA,WAAW,CAAE,MAAF,CAAX,GAAwBC,MAAM,CAACC,MAAP,CAAe,aAAclB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAAvB,GAAwC,GAAvD,EAA4DE,IAAI,CAACM,IAAjE,CAAxB;AACAH,EAAAA,WAAW,CAAE,OAAF,CAAX,GAAyBC,MAAM,CAACC,MAAP,CAAe,8BAA+BlB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAAxC,GAAyD,GAAxE,EAA6EE,IAAI,CAACO,KAAlF,CAAzB;;AACA,MAAKP,IAAI,CAACF,KAAL,KAAe,SAApB,EAAgC;AAC5BK,IAAAA,WAAW,CAAE,OAAF,CAAX,GAAyBC,MAAM,CAACC,MAAP,CAAe,mBAAmBlB,SAAS,CAAEa,IAAI,CAACF,KAAP,CAA5B,GAA6C,cAA5D,EAA4EE,IAAI,CAACQ,KAAjF,CAAzB;AACH;;AACDC,EAAAA,KAAK,CACD3B,WAAW,GAAG,GAAd,GAAoBkB,IAAI,CAACU,EADxB,EAED;AACIgB,IAAAA,MAAM,EAAE,KADZ;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,IAAI,EAAEjB,IAAI,CAACC,SAAL,CAAgBT,WAAhB,CAHV;AAII0B,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAJb,GAFC,CAAL,CAWChB,IAXD,CAWOC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAXZ,EAYCF,IAZD,CAYOG,CAAC,IAAI;AACR,QAAKA,CAAL,EAAS;AACLC,MAAAA,KAAK,CAAE,+BAAF,CAAL;AACAb,MAAAA,MAAM,CAACc,QAAP,CAAgBC,MAAhB;AACH,KAHD,MAGO;AACHF,MAAAA,KAAK,CAAE,6BAAF,CAAL;AACH;AACJ,GAnBD;AAoBH,CA5BD;;AA6BA,MAAMa,SAAS,GAAG,MACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACI,oBAAC,qBAAD;AACI,EAAA,GAAG,EAAG/C,WADV;AAEI,EAAA,UAAU,EAAGG,YAAY,GAAG,WAFhC;AAGI,EAAA,MAAM,EAAG,CAAE,MAAF,EAAU,MAAV,EAAkB,YAAlB,EAAgC,YAAhC,EAA8C,OAA9C,CAHb;AAII,EAAA,QAAQ,EAAG,CAAE,MAAF,EAAU,mBAAV,EAA+B,SAA/B,EAA0C,eAA1C,EAA2D,YAA3D,CAJf;AAKI,EAAA,MAAM,EAAGqC,CAAC,IACN;AAAQ,IAAA,SAAS,EAAC,cAAlB;AACI,IAAA,OAAO,EAAGC,EAAE,IAAIzB,qBAAqB,CAAEwB,CAAF,CADzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,CADJ;;AAkBA,eAAe,MAAMQ,GAAN,SAAkBvD,SAAlB,CAA4B;AACvCwD,EAAAA,aAAa,GAAI;AACb,QAAIC,MAAJ;AACA,UAAMC,IAAI,GACN;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,mCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,mBADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAKI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,sBADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAUI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,eADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,EAcI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,kBADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,EAmBI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,eADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EAuBI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,kBADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,WAAD;AACX,QAAA,KAAK,EAAC,SADK;AAEX,QAAA,MAAM,EAAG,CAAE,MAAF,EAAU,OAAV,EAAmB,OAAnB,CAFE;AAGX,QAAA,QAAQ,EAAG,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAF,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAArB,EAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAzC,CAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBJ,EA+BI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,eADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/BJ,EAmCI,oBAAC,KAAD;AACI,MAAA,IAAI,EAAC,kBADT;AAEI,MAAA,MAAM,EAAG,MAAM,oBAAC,WAAD;AACX,QAAA,KAAK,EAAC,SADK;AAEX,QAAA,MAAM,EAAG,CAAE,MAAF,EAAU,OAAV,CAFE;AAGX,QAAA,QAAQ,EAAG,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAF,EAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAArB,CAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCJ,EA4CI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,cAAZ;AAA2B,MAAA,SAAS,EAAGxC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5CJ,EA6CI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,iBAAZ;AAA8B,MAAA,SAAS,EAAGoC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7CJ,EA+CI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,SAAS,EAAGxC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/CJ,EAgDI,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAGD,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDJ,CADJ,CADJ,CADJ;;AAwDA,QAAK,KAAKQ,KAAL,CAAWsC,OAAhB,EAA0B;AACtB,cAAS,KAAKtC,KAAL,CAAWuC,eAApB;AACI,aAAK,OAAL;AACIH,UAAAA,MAAM,GAAG,CAAEC,IAAF,EAAQ,KAAKrC,KAAL,CAAWsC,OAAnB,CAAT;AACA;;AACJ;AACIF,UAAAA,MAAM,GAAG,CAAE,KAAKpC,KAAL,CAAWsC,OAAb,EAAsBD,IAAtB,CAAT;AALR;AAOH,KARD,MAQO;AACHD,MAAAA,MAAM,GAAGC,IAAT;AACH;;AACD,WAAOD,MAAM,CAACI,GAAP,CAAY,CAAEd,CAAF,EAAKe,CAAL,KAAY7D,YAAY,CAAE8C,CAAF,EAAK;AAAEgB,MAAAA,GAAG,EAAED;AAAP,KAAL,CAApC,CAAP;AACH;;AACDE,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAK3C,KAAL,CAAW4C,MAFjB,EAII;AAAK,MAAA,SAAS,EAAG,YAAa,KAAK5C,KAAL,CAAW6C,kBAAX,GAAgC,KAAK7C,KAAL,CAAW6C,kBAA3C,GAAgE,EAA7E,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAK7C,KAAL,CAAW8C,SAFjB,EAIM,KAAKX,aAAL,EAJN,CAJJ,CADJ;AAeH;;AAxFsC","sourcesContent":["import React, {\n    Component,\n    cloneElement\n} from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from \"react-router-dom\";\n\nimport {\n    productsUrl,\n    paymentsUrl,\n    peopleUrl,\n    findUrl,\n    findTableUrl,\n    scopeName,\n    getInit\n} from '../../settings';\n\nimport Unvailable from '../unvailable/App';\nimport Home from '../tela-inicial/App';\nimport NewUser, {\n    NewProduct,\n    SeeWithoutPrefix,\n    NewOrder,\n    OtherSeeWithoutPrefix\n} from '../form/App';\n\n\nconst SeeUsers = ( props ) => (\n    <div>\n        <SeeWithoutPrefix\n            filter\n            filterLabel=\"Busca por nome\"\n            url={ peopleUrl + \"?person_scope=\" + props.scope }\n            fields={ [ \"fullName\", \"email\", \"phone\" ] }\n            preppend={ [ \"Nome\", \"email\", \"Telefone\" ] }\n            withFinder={ findUrl }\n            scope={ props.scope }\n            key={ props.scope === \"employee\" ? 1 : 2 }\n        ></SeeWithoutPrefix>\n    </div>\n);\n// \nconst updateProductsHandler = data => {\n    console.log( \"data\", data );\n    let updatedData = {};\n    updatedData[ \"name\" ] = window.prompt( \"Nome do \"  + scopeName( data.scope ) + \":\", data.name );\n    updatedData[ \"price\" ] = window.prompt( \"Preço a ser cobrado pelo \"  + scopeName( data.scope ) + \":\", data.price );\n    if ( data.scope === \"product\" ) {\n        updatedData[ \"stock\" ] = window.prompt( \"Quantidade do \" + scopeName( data.scope ) + \" em estoque:\", data.stock );\n    }\n    fetch(\n        productsUrl + \"/\" + data.id,\n        getInit(\n            JSON.stringify( updatedData ),\n            \"PUT\"\n        )\n    )\n    .then( r => r.json() )\n    .then( j => {\n        if ( j ) {\n            alert( \"Dados atualizados com sucesso\" );\n            window.location.reload();\n        } else {\n            alert( \"Um erro inesperado ocorreu.\" );\n        }\n    } )\n}\nconst SeeProducts = ( props ) => (\n    <div>\n        <SeeWithoutPrefix\n            url={ productsUrl + \"?product_scope=\" + props.scope }\n            fields={ props.fields }\n            preppend={ props.preppend }\n            key={ props.scope === \"product\" ? 1 : 2 }\n            append={ x => (\n                <button className=\"btn btn-info\"\n                    onClick={ ev => updateProductsHandler( x ) }\n                >\n                    <i className=\"fas fa-pencil\"></i>\n                </button>\n            ) }\n        ></SeeWithoutPrefix>\n    </div>\n);\n// \nconst updateOrdersHandler = data => {\n    console.log( \"data\", data );\n    let updatedData = {};\n    updatedData[ \"name\" ] = window.prompt( \"Nome do \"  + scopeName( data.scope ) + \":\", data.name );\n    updatedData[ \"price\" ] = window.prompt( \"Preço a ser cobrado pelo \"  + scopeName( data.scope ) + \":\", data.price );\n    if ( data.scope === \"product\" ) {\n        updatedData[ \"stock\" ] = window.prompt( \"Quantidade do \" + scopeName( data.scope ) + \" em estoque:\", data.stock );\n    }\n    fetch(\n        productsUrl + \"/\" + data.id,\n        {\n            method: \"PUT\",\n            mode: \"cors\",\n            body: JSON.stringify( updatedData ),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }\n    )\n    .then( r => r.json() )\n    .then( j => {\n        if ( j ) {\n            alert( \"Dados atualizados com sucesso\" );\n            window.location.reload();\n        } else {\n            alert( \"Um erro inesperado ocorreu.\" );\n        }\n    } )\n}\nconst SeeOrders = () => (\n    <div>\n        <OtherSeeWithoutPrefix\n            url={ paymentsUrl }\n            withFinder={ findTableUrl + \"/payments\" }\n            fields={ [ \"date\", \"mode\", \"customerId\", \"employeeId\", \"value\" ] }\n            preppend={ [ \"Data\", \"Modo de Pagamento\", \"Cliente\", \"Funcionário/a\", \"Valor (R$)\" ] }\n            append={ x => (\n                <button className=\"btn btn-info\"\n                    onClick={ ev => updateProductsHandler( x ) }\n                >\n                    <i className=\"fas fa-pencil\"></i>\n                </button>\n            ) }\n        ></OtherSeeWithoutPrefix>\n    </div>\n);\n\nexport default class App extends Component {\n    handleSidebar () {\n        let output;\n        const main = (\n            <div className=\"w-100 p-2\">\n                <main className=\"d-block mb-5 pb-4 mb-sm-0 pb-sm-0\">\n                    <Switch>\n                        <Route\n                            path=\"/novo-funcionario\"\n                            render={ () => <NewUser scope=\"employee\" /> }\n                        />\n                        <Route\n                            path=\"/listar-funcionarios\"\n                            render={ () => <SeeUsers scope=\"employee\" /> }\n                        />\n\n                        <Route\n                            path=\"/novo-cliente\"\n                            render={ () => <NewUser scope=\"customer\" /> }\n                        />\n                        <Route\n                            path=\"/listar-clientes\"\n                            render={ () => <SeeUsers scope=\"customer\" /> }\n                        />\n                        {/*  */}\n                        <Route\n                            path=\"/novo-produto\"\n                            render={ () => <NewProduct scope=\"product\"/> }\n                        />\n                        <Route\n                            path=\"/listar-produtos\"\n                            render={ () => <SeeProducts\n                                scope=\"product\"\n                                fields={ [ \"name\", \"price\", \"stock\" ] }\n                                preppend={ [ <span>Nome</span>, <span>Preço</span>, <span>Estoque</span> ] }\n                            /> }\n                        />\n                        <Route\n                            path=\"/novo-servico\"\n                            render={ () => <NewProduct scope=\"service\" /> }\n                        />\n                        <Route\n                            path=\"/listar-servicos\"\n                            render={ () => <SeeProducts\n                                scope=\"service\"\n                                fields={ [ \"name\", \"price\" ] }\n                                preppend={ [ <span>Nome</span>, <span>Preço</span> ] }\n                            /> }\n                        />\n                        {/*  */}\n                        <Route path=\"/novo-pedido\" component={ NewOrder } />\n                        <Route path=\"/listar-pedidos\" component={ SeeOrders } />\n\n                        <Route path=\"/\" component={ Home } />\n                        <Route component={ Unvailable } />\n                    </Switch>\n                </main>\n            </div>\n        );\n        if ( this.props.sidebar ) {\n            switch ( this.props.sidebarPosition ) {\n                case \"right\":\n                    output = [ main, this.props.sidebar ];\n                    break;\n                default:\n                    output = [ this.props.sidebar, main ];\n            }\n        } else {\n            output = main;\n        }\n        return output.map( ( x, i ) => cloneElement( x, { key: i } ) );\n    }\n    render() {\n        return (\n            <Router>\n            \n                { this.props.header }\n    \n                <div className={ \"d-flex\" + ( this.props.containerClassName ? this.props.containerClassName : \"\" ) }>\n                    \n                    { this.props.bottombar }\n                    \n                    { this.handleSidebar() }\n                    \n                </div>\n    \n            </Router>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}